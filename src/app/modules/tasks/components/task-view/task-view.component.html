<div class="wrapper">
  <div class="task">
    <form [formGroup]="form">
      <ng-container *ngIf="isEditing; else static">
        <app-edit-task
          [id]="task.id"
          (approve)="setIsEditing(false)"
        ></app-edit-task>
      </ng-container>

      <ng-template #static>
        <div class="position-relative">
          <div class="row">
            <div class="col-auto">
              <input
                type="checkbox"
                formControlName="checked"
                class="checkbox form-check-input"
              />
            </div>
            <div class="col" (click)="setIsEditing(true)">
              <p class="title">{{ task.title }}</p>
              <p class="description">{{ task.content }}</p>
              <div class="row mt-2">
                <div class="col-auto">
                  <p-calendar
                    (click)="$event.stopPropagation()"
                    inputStyleClass="datepicker-sm"
                    formControlName="deadlineAt"
                    [showButtonBar]="true"
                    dateFormat="dd MM yy"
                    placeholder="Срок"
                    [showIcon]="true"
                    appendTo="body"
                  ></p-calendar>
                </div>
              </div>
            </div>
          </div>
        </div>
      </ng-template>
    </form>
  </div>

  <div class="task-tabs mt-4">
    <p-tabView>
      <p-tabPanel header="Подзадачи"> </p-tabPanel>
      <p-tabPanel header="Комментарии"> </p-tabPanel>
      <p-tabPanel header="Действия"> </p-tabPanel>
    </p-tabView>
  </div>
</div>
